#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

### Backend
echo "ğŸ” Verificando commit backend..."

cd backend || exit 1

# 1ï¸âƒ£ FormataÃ§Ã£o
dotnet format analyzers --verify-no-changes
if [ $? -ne 0 ]; then
  echo "âŒ CÃ³digo nÃ£o estÃ¡ formatado. Execute 'dotnet format analyzers'."
  exit 1
fi

# 2ï¸âƒ£ Build
dotnet build --no-restore -warnaserror
if [ $? -ne 0 ]; then
  echo "âŒ Build falhou."
  exit 1
fi

echo "âœ… Commit aprovado."
